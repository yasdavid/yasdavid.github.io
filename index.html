<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <title>Yas and David Wedding</title>
    <style>
            body, html {
                margin: 0;
                height: 100%;
                font-family: sans-serif;
                background-color: #f0f0f0;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .viewport-wrapper {
                width: 100vw;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }

            .card-container {
                aspect-ratio: 6 / 5;
                width: min(90vw, calc(90vh * (6 / 5)));
                height: auto;
                perspective: 1500px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            /*.card-container {
            perspective: 1500px;
            width: 90vw;
            max-width: 1000px;
            margin: 5px auto;
            height: auto;
            max-height: 90vw;
            aspect-ratio: 6 / 5;
            display: flex;
            align-items: center;
            justify-content: center;
        }*/

            .card {
                width: 100%;
                height: 100%;
                position: relative;
                transform-style: preserve-3d;
                transition: transform 0.8s ease;
            }

                .card.flipped {
                    transform: rotateY(180deg);
                }

            .card-face {
                position: absolute;
                width: 100%;
                height: 100%;
                backface-visibility: hidden;
                border-radius: 16px;
                overflow: hidden;
                box-shadow: 0 0 20px rgba(0,0,0,0.2);
            }

            .card-front img {
                width: 100%;
                height: 100%;
                object-fit: contain;
                object-position: top center;
                display: block;
            }

            .card-back {
                background: white;
                padding: 2rem;
                transform: rotateY(180deg);
                overflow-y: auto;
                overflow-x: hidden;
                box-sizing: border-box;
            }

                .card-back h1 {
                    margin-top: 0;
                }

            .form-group {
                margin-bottom: 1rem;
            }

            input[type="number"],
            input[type="text"] {
                width: 100%;
                padding: 0.5rem;
                margin-top: 0.25rem;
                border: 1px solid #ccc;
                border-radius: 6px;
            }

            button {
                padding: 0.75rem 1.5rem;
                background: #4f46e5;
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
            }

            .flip-btn-container {
                position: absolute;
                top: 20px;
                right: 20px;
                z-index: 10;
            }

            .back-main {
                display: flex;
                flex-direction: column;
                gap: 1rem; /* spacing between form/image and map */
            }

            .map-container iframe {
                width: 100%;
                height: 300px;
                border-radius: 8px;
                border: none;
            }

            .back-content {
                display: flex;
                gap: 2rem;
                height: 100%;
                align-items: flex-start;
                flex-direction: row
            }

            form#rsvpForm {
                flex: 1 1 50%; /* take about half width */
                max-width: 50%;
            }

            .side-image {
                flex: 1 1 50%; /* take about half width */
                max-width: 50%;
            }

                .side-image img {
                    width: 100%;
                    height: auto;
                    border-radius: 12px;
                    object-fit: cover;
                    box-shadow: 0 0 12px rgba(0,0,0,0.15);
                }

            @media (max-width: 768px) {
                .back-content {
                    display: flex;
                    gap: 2rem;
                    height: 100%;
                    align-items: flex-start;
                    flex-direction: column
                }

                form#rsvpForm {
                    flex: 1 1 100%; /* take about half width */
                    max-width: 100%;
                }

                .side-image {
                    flex: 1 1 100%; /* take about half width */
                    max-width: 100%;
                }
            }

            .bottom-image {
                max-width: 100%;
            }

                .bottom-image img {
                    width: 100%;
                    height: auto;
                    border-radius: 12px;
                    object-fit: contain;
                }

            .attendee-name {
                margin-top: 0.5rem;
            }

            .dietary-restriction {
                margin-top: 0.5rem
            }
    </style>
</head>
<body>
    <div class="viewport-wrapper">
        <div class="card-container">
            <div class="card" id="flipCard">
                <div class="card-face card-front">
                    <img src="InviteImage.jpg" alt="Invite" style="object-position: center top; width: 100%; height: 100%; object-fit: cover; transform: scale(1);" />
                    <div class="flip-btn-container">
                        <button onclick="flipCard()">More Info / RSVP</button>
                    </div>
                </div>
                <div class="card-face card-back">
                    <h1>You're Invited!</h1>
                    <p>Join us to celebrate at the Hotel Belles Rives in Juan-les-Pins on the afternoon and evening of April 30, 2026. More details to follow. Please RSVP below.</p>
                    <div class="back-main">
                        <div class="back-content">
                            <form id="rsvpForm" onsubmit="handleSubmit()">
                                <div id="attendeeCount" class="form-group">
                                    <label>Number of Attendees:</label>
                                    <input type="number" id="attendeeCount" min="1" value="1" required />
                                </div>
                                <div id="attendeeNames" class="form-group">
                                    <label>Attendee Names (separate with commas):</label>
                                    <input type="text" name="attendeeNames" class="attendee-name" required />
                                </div>
                                <div id="dietaryRestriction" class="form-group">
                                    <label>Dietary Restrictions:</label>
                                    <input type="text" name="dietaryRestriction" class="dietary-restriction" />
                                </div>
                                <div class="form-group" style="margin-top: 1rem;">
                                    <button class="g-recaptcha" 
                                            data-sitekey="6LclfJYrAAAAAD0u-sPsKwVKOJAAhZQyIIlVz-6K" 
                                            data-callback='onSubmit' 
                                            data-action='submit'>Submit RSVP</button>
                                </div>
                                <div class="form-group" style="margin-top: 1rem;">
                                    <button type="button" onclick="flipCard()">Back to Cover</button>
                                </div>
                            </form>
                            <div class="side-image">
                                <img src="bellesRivesDeck.jpg" alt="Belles Rives Deck" />
                            </div>
                        </div>
                        <div id="confirmationMessage" style="display: none;">
                            <h2>Thank you!</h2>
                            <p>Your RSVP has been submitted.</p>
                        </div>
                        <div class="map-container">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d21333.296821900407!2d7.114491878555721!3d43.56236940043325!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12ce7f8b15a306e7%3A0x403ea457fcc68c6e!2sHotel%20Belles%20Rives!5e1!3m2!1sen!2sca!4v1754021968240!5m2!1sen!2sca"
                                    width="100%"
                                    height="300"
                                    style="border:0; border-radius: 8px;"
                                    allowfullscreen=""
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                        <div class="bottom-image">
                            <img src="bellesRivesRestaurant.jpg" alt="Belles Rives Deck" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

  <script>
    const card = document.getElementById('flipCard');

    function flipCard() {
        card.classList.toggle('flipped');
        //window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function onSubmit(token) {
        document.getElementById("rsvpForm").submit();
    }

    function updateAttendeeFields() {
      const count = parseInt(document.getElementById('attendeeCount').value, 10);
      const container = document.getElementById('attendeeNames');
      container.innerHTML = '';

      for (let i = 1; i <= count; i++) {
        const label = document.createElement('label');
        label.textContent = `Attendee ${i} Name:`;
        const input = document.createElement('input');
        input.type = 'text';
        input.name = `attendee${i}`;
        input.className = 'attendee-name';
        input.required = true;

        container.appendChild(label);
        container.appendChild(input);
      }
    }

    async function handleSubmit(event) {
      event.preventDefault();
     const form = document.getElementById('rsvpForm');
     const data = new FormData(form);
     fetch("https://script.google.com/macros/s/AKfycbw-UWQrxmwS-IPMEGXytZu3Pi9DoYng90HldEX8JcD7lOAerMpeznBC5bGglBU6ylcx/exec", {
      method: 'POST',
      body: data,
     })
     .then(() => {
      alert("RSVP submitted!");
      document.getElementById("confirmationMessage").style.display = "block";
      document.getElementById("rsvpForm").reset();
     })
    }
  </script>
</body>
</html>


