<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <title>Yas and David Wedding</title>
    <style>
            body, html {
                margin: 0;
                height: 100%;
                font-family: sans-serif;
                background-color: #f0f0f0;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .viewport-wrapper {
                width: 100vw;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }

            .card-container {
                aspect-ratio: 6 / 5;
                width: min(90vw, calc(90vh * (6 / 5)));
                height: auto;
                perspective: 1500px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .card {
                width: 100%;
                height: 100%;
                position: relative;
                transform-style: preserve-3d;
                transition: transform 0.8s ease;
            }

            .card.flipped {
                transform: rotateY(180deg);
            }

            .card-face {
                position: absolute;
                width: 100%;
                height: 100%;
                backface-visibility: hidden;
                border-radius: 16px;
                overflow: hidden;
                box-shadow: 0 0 20px rgba(0,0,0,0.2);
            }

            .card-front img {
                width: 100%;
                height: 100%;
                object-fit: contain;
                object-position: top center;
                display: block;
            }

            .card-back {
                background: white;
                padding: 2rem;
                transform: rotateY(180deg);
                overflow-y: auto;
                overflow-x: hidden;
                box-sizing: border-box;
            }

            .card-back h1 {
                margin-top: 0;
            }

        .card-container.fullscreen {
            width: 90vw;
            height: 90vh;
            aspect-ratio: unset;
            max-width: unset;
            max-height: unset;
            perspective: 1500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

            .form-group {
                margin-bottom: 1rem;
            }

            input[type="number"],
            input[type="text"] {
                width: 100%;
                padding: 0.5rem;
                margin-top: 0.25rem;
                border: 1px solid #ccc;
                border-radius: 6px;
            }

            button {
                padding: 0.75rem 1.5rem;
                background: #4f46e5;
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
            }

            .flip-btn-container {
                position: absolute;
                top: 20px;
                right: 20px;
                z-index: 10;
            }

            .back-main {
                display: flex;
                flex-direction: column;
                gap: 1rem; /* spacing between form/image and map */
            }

            .map-container iframe {
                width: 100%;
                height: 300px;
                border-radius: 8px;
                border: none;
            }

            .back-content {
                display: flex;
                gap: 2rem;
                height: 100%;
                align-items: flex-start;
                flex-direction: row
            }

            form#rsvpForm {
                flex: 1 1 50%; /* take about half width */
                max-width: 50%;
            }

            .side-image {
                flex: 1 1 50%; /* take about half width */
                max-width: 50%;
            }

            .side-image img {
                width: 100%;
                height: auto;
                border-radius: 12px;
                object-fit: cover;
                box-shadow: 0 0 12px rgba(0,0,0,0.15);
            }

            @media (max-width: 768px) {
                .back-content {
                    display: flex;
                    gap: 2rem;
                    height: 100%;
                    align-items: flex-start;
                    flex-direction: column
                }

                form#rsvpForm {
                    flex: 1 1 100%; /* take about half width */
                    max-width: 100%;
                }

                .side-image {
                    flex: 1 1 100%; /* take about half width */
                    max-width: 100%;
                }

                .flip-btn-container {
                    position: absolute;
                    top: 1px;
                    right: 20px;
                    z-index: 10;
                }
            }

            .bottom-image {
                max-width: 100%;
            }

            .bottom-image img {
                width: 100%;
                height: auto;
                border-radius: 12px;
                object-fit: contain;
            }

            .attendee-name {
                margin-top: 0.5rem;
            }
            .dietary-restriction {
                margin-top: 0.5rem
            }
            .attendee-number {
                margin-top: 0.5rem
            }
    </style>
</head>
<body>
    <div class="viewport-wrapper">
        <div class="card-container">
            <div class="card" id="flipCard">
                <div class="card-face card-front">
                    <img src="InviteImage.jpg" alt="Invite" style="object-position: center top; width: 100%; height: 100%; object-fit: cover; transform: scale(1);" />
                    <div class="flip-btn-container">
                        <button onclick="flipCard()">More Info / RSVP</button>
                    </div>
                </div>
                <div class="card-face card-back">
                    <h1>You're Invited!</h1>
                    <p>Join us to celebrate at the <a href="https://www.bellesrives.com/en/">Hotel Belles Rives</a> in Juan-les-Pins on the afternoon and evening of April 30, 2026. More details below. Please RSVP here or <a href="mailto:davidgblack1@gmail.com">by email</a> by November 1st, 2025.</p>
                    <div class="back-main">
                        <div class="back-content">
                            <form id="rsvpForm">
                                <div id="attendeeCount" class="form-group">
                                    <label>Number of Attendees:</label>
                                    <input type="number" name="attendeeCount" class="attendee-count" min="1" value="1" required />
                                </div>
                                <div id="attendeeNames" class="form-group">
                                    <label>Attendee Names (separate with commas):</label>
                                    <input type="text" name="attendeeNames" class="attendee-name" required />
                                </div>
                                <div id="dietaryRestriction" class="form-group">
                                    <label>Dietary Restrictions:</label>
                                    <input type="text" name="dietaryRestriction" class="dietary-restriction" />
                                </div>
                                <div class="form-group" style="margin-top: 1rem;">
                                    <button class="g-recaptcha"
                                            data-sitekey="6LclfJYrAAAAAD0u-sPsKwVKOJAAhZQyIIlVz-6K"
                                            data-callback='onSubmit'
                                            data-action='submit'>
                                        Submit RSVP
                                    </button>
                                    <button type="button" onclick="flipCard()">Back to Cover</button>
                                </div>
                            </form>
                            <div class="side-image">
                                <img src="bellesRivesDeck.jpg" alt="Belles Rives Deck" />
                            </div>
                        </div>
                        <div id="confirmationMessage" style="display: none;">
                            <h2>Thank you!</h2>
                            <p>Your RSVP has been submitted.</p>
                        </div>
                        <div class="map-container">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d21333.296821900407!2d7.114491878555721!3d43.56236940043325!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12ce7f8b15a306e7%3A0x403ea457fcc68c6e!2sHotel%20Belles%20Rives!5e1!3m2!1sen!2sca!4v1754021968240!5m2!1sen!2sca"
                                    width="100%"
                                    height="300"
                                    style="border:0; border-radius: 8px;"
                                    allowfullscreen=""
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                        <h3 style="margin-bottom: 5px;">The Venue</h3>
                        <p style="margin-top: 0;">
                            The Hotel Belles Rives is a historic, 5-star, sea-side hotel in the Art Deco style. Opened in 1929, it was F. Scott and Zelda Fitzgerald's villa during their time in the Provence. The wedding will take place on its terrace and restaurant, directly adjacent to the ocean. Nearby activities include water sports, road cycling, visits to Antibes, St. Tropez, Nice, Monaco, and more, and the Alps just inland. Along the beautiful coastline by the hotel are many beaches and restaurants, and the Nice airport is only 23 minutes away by car.
                        </p>
                        <div class="bottom-image">
                            <img src="bellesRivesRestaurant.jpg" alt="Belles Rives Deck" />
                        </div>
                        <h3 style="margin-bottom: 5px;">Accommodation</h3>
                        <p style="margin-top: 0;">There are many great hotels, AirBnBs, and VRBOs in the area. The Hotel Belles Rives itself offers a 10% discount for our wedding, so if you are interested in staying there, please <a href="mailto:davidglack1@gmail.com">contact us</a> to obtain a booking code.</p>
                        <h3 style="margin-bottom: 5px;">The Event</h3>
                        <p style="margin-top: 0;">On the 30th of April, we will celebrate with the wedding ceremony starting at 17:30, followed by cocktails and canapes, dinner, and a party with dancing. More details to follow.</p>
                        <h3 style="margin-bottom: 5px;">Front Cover</h3>
                        <p style="margin-top: 0;">The two lines of poetry on the front cover represent our first languages of Farsi and German, respectively. Our shared language, English, constitutes the remainder of the invite. The two lines translate roughly as follows, though poetry never flows as well outside its native language: Have you ever heard a better sound on this whirling sphere than the voice of love, eloquently speaking [Hafez, 14th Century]. It does not take much to be happy, yet whoever is happy is king [Christian Felix Weiße ca. 1770].</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

  <script>
    const card = document.getElementById('flipCard');

    function flipCard() {
        card.classList.toggle('flipped');
        document.querySelector('.card-container').classList.toggle('fullscreen');
        window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function onSubmit(token) {
         //document.getElementById("rsvpForm").submit();
         const form = document.getElementById('rsvpForm');
         const data = new FormData(form);
         fetch("https://script.google.com/macros/s/AKfycbw-UWQrxmwS-IPMEGXytZu3Pi9DoYng90HldEX8JcD7lOAerMpeznBC5bGglBU6ylcx/exec", {
          method: 'POST',
          body: data,
         })
         .then(() => {
          alert("RSVP submitted!");
          document.getElementById("confirmationMessage").style.display = "block";
          form.reset();
         });
    }
  </script>
</body>

</html>

